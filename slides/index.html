<!DOCTYPE html>
<html>

<head>
    <title>Flask - An Introduction</title>
    <meta charset="utf-8">
    <meta name="author" content="Frances Liu">
    <meta name="description" content="An Introduction to Flask, a Python web development microframework">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
    <link href="style.css" rel="stylesheet">
    <script>
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match(/print-pdf/gi) ? 'lib/css/print/pdf.css' : 'lib/css/print/paper.css';
    document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section id="title">
                <h1>Flask,</h1>
                <h2>a microframework</h2>
                <br>
                <p><a href="http://frances-liu.com" target="_blank">Frances Liu</a></p>
                <br>
            </section>
            <section id="outline">
                <h2>Outline</h2>
                <ol>
                    <li>What is a web server?</li>
                    <li>Two major Python web frameworks: Django and Flask</li>
                    <li>What is Flask?</li>
                    <li>Live Coding: 'Hello World' pt 1</li>
                    <li>Routing</li>
                    <li>Templates with Jinja2</li>
                    <li>Live Coding: 'Hello World' pt 2</li>
                </ol>
            </section>
            <section id="intro">
                <section>
                    <h1>Intro to Web Dev</h1>
                </section>
                <section>
                    <h2>What is a web server?</h2>
                    <ul>
                        <li class="fragment">A program that runs on a machine that is constantly waiting for web requests.</li>
                    </ul>
                    <aside class="notes">
                        It can process requests and issue responses using HTTP. HTTP is a protocol used to distribute information on the web. 
                    </aside>
                </section>
                <section>
                    <img src="http://prasadhonrao.com/wp-content/uploads/2011/09/web-server-processing.png">
                    <aside class="notes">
                      Here's a very simple example, if you open https://www.google.com on your preferred web browser, it will send a request to Google's web server, look for it's  index.html  and returns the HTML back to the browser to be rendered on the user's browser.
                    </aside>
                </section>
                <section>
                    <h2>Flask</h2>
                    <p class="fragment">Microframework</p>
                    <p class="fragment">Extentions available to customize your framework</p>
                    <aside class="notes">
                      <li>"Hands on the wire" approach</li>
                      <li>Lightweight</li>
                    </aside>
                </section>
                <section>
                    <h2>Who's using it?</h2>
                    <ul>
                        <li>Pinterest</li>
                        <li>Twilio</li>
                    </ul>
                </section>
                <section>
                    <h2>Django</h2>
                    <p class="fragment">Full framework aka "batteries included"</p>
                    <p class="fragment">Comes with a default set up -- "boilerplate"</p>
                    <aside class="notes">
                      <li>User authentication</li>
                      <li>Management panel</li>
                      <li>Forms</li>
                      <li>Upload files</li>
                    </aside>
                </section>
                <section>
                    <h2>Who's using it?</h2>
                    <ul>
                        <li>Spotify</li>
                        <li>Instagram</li>
                        <li>The Washington Post</li>
                    </ul>
                </section>
            </section>
            <section id="virtual_envinronment">
                <section>
                    <h1>Virtual Environments</h1>
                </section>
                <section>
                    <h2>What is a virtural environment?</h2>
                    <p class="fragment">A tool that allows the user to create multiple isolated Python environments on one machine.</p>
                    <aside class="notes">
                      <li>e.g. system uses v2.6, one app uses v3.5 and another v2.7.</li>
                    </aside>
                </section>
                <section>
                    <h2>What does it do?</h3>
                    <p class="fragment">Keeps different project environments isolated and contained</p>
                </section>
            </section>
            <section id=live_coding_1>
              <section>
                <h2>What is Flask?</h2>
                    <p class="fragment">Flask is a highly flexible, small, simple, and elegant Python web framework. Generally, it is used with a templating framework, Jinja2</p>
                    <aside class="notes">
                      For the purpose of this tutorial, we will start with the standard 'Hello World' tutorial from the official docs.
                    </aside>
                </section>
                <section>
                    <h1>Hello, World!</h1>
                    <aside class="notes">
                      <li>Do virtualenv</li>
                      <li>pip install flask</li>
                    </aside>
                </section>
                <section>
                  <p data-markdown>
                        <script type="text/template">
                            Create an empty file with `touch server.py`.
```python
from flask import Flask
app = Flask(__name__)

@app.route('/')
def hello_world():
    return 'Hello, World!'
```
                        </script>
                    </p>
                </section>
                <section>
                  <p data-markdown>
                    <script type="text/template">
                      To run the app type in the command line:

```basic
> export FLASK_APP=server.py
> flask run
```
                    </script>
                    <aside class="notes">
                      <li>export FLASK_APP=server.py creates an environment variable that only needs to written once. Some people opt to use environment variables instead of having a secrets file.</li>
                      <li>Now, let's break it down line-by-line to understand what's going on within those few lines of code better. Since real world applications are more object-orientated and split into pieces, we can refactor the code after we solidify our understanding.</li>
                    </aside>
                  </p>
                </section>
            </section>
            <section id="routing">
              <section>
                <h1>Routing</h1>
                  <p data-markdown>
                  <script type="text/template">
`@app.route('')`
                  </script>
                  </p>
                  <aside class="notes">
                    <li>In web development, most modern web frameworks use a routing technique to help a user easily reference URL's. @app.route('') is a decorator that binds the URL to a function. </li>
                    <li>When a user goes to a URL such as http://www.sampleapp.com/signup' it would find the decorator @app.route('/signup') in the server.py file and return the function associated to it. </li>
                    <li>Our current 'Hello World' text from localhost:5000 comes from this function def hello_world(): returning the string 'Hello,World!' which would then be rendered into the web browser. </li>
                  </aside>
              </section>
            </section>
            <section id="templating">
              <section>
                <h1>Templating with Jinja2</h1>
              </section>
              <section>
                <h2>What is templating?</h2>
                  <p class="fragment">Templating is a way to represent data in different forms.</p>
                  <aside class="notes">
                    The purpose of them is to reduce the amount of physical changes needed to change output (normally HTML) and reduce the amount of time spent on creating redundant code. Basic data manipulation is possible within templates such as traversing through lists forwards and backwards, capitalizing text, looping with for loops, etc. 
                  </aside>
              </section>
              <section>
                <h2>What is Jinja2?</h2>
                <p class="fragment">Popular and fully featured template engine by the same creator as Flask.</p>
              </section>
              <section>
                <p data-markdown>
                    <script type="text/template">
                     Here's a sample:

```python
{% extends "layout.html" %}
{% block content %}
  <h3> This is the start of my child template</h3>
  <br>
  <p>My string: {{my_string}}</p>
  <p>Value from the list: {{my_list[3]}}</p>
  <p>Loop through the list:</p>
  <ul>
    {% for n in my_list %}
    <li>{{n}}</li>
    {% endfor %}
  </ul>
  {% endblock %}
{% endblock %}
```
                    </script>
                  </p>
                  <aside class="notes">
                    <li>extends means that we will inject our content into an existing template, layout.html in this case. The portion that's unique to this particular HTML page is the content within block content and end block. </li>
                    <li>Variables can be passed from view functions to the template with the render_template function and the double curly braces  are used to "bind" those values (aka, dynamically display).</li>
                  </aside>
              </section>
              <section>
                <p data-markdown>
                  <script type="text/template">
                    For example:

```python
@app.route('/')
def hello_world():
    user = request.args.get('person')
    return render_template('index.html', user=name)
```
                  </script>
                </p>
                <aside class="notes">
                  <li>In our 'Hello World', we can write a function and return a variable along with a template by importing the module render_template. </li>
                  <li>Broken down line by line: This searches the submitted <form> values for one called person using the request module (can also be imported along with render_template) and binds it to the variable user.</li>
                  <li>Here, we use the function render_template  to render the index.html template, and pass our local variable name to the template as variable  user (so that we can do {{ user }}.</li>
                  <li>{{my_list[3]}} looks in the list my_list and replaces it with the contents of the 4th item in the list. </li>
                  <li>This is a Jinja2 for loop. Amazing, right? A for loop INSIDE of HTML. Unfortunately, while loops are not supported. </li>
                </aside>
              </section>
            </section>
            <section id="live_coding_2">
              <section>
                <h1>Hello World, pt2</h1>
                <aside class="notes">
                  <li>With routing and templating in mind, let's make this 'Hello World' more interesting. </li>

                  <li>At this time, go ahead and quit out of your previous instance of the 'Hello World' app by pressing CTRL+C.</li>
                </aside>
              </section>
              <section>
              <p>First, let's bind the application name to a variable and turn on the debugger</p>
                <p data-markdown>
                  <script type="text/template">
                    The `server.py` file should look like this:

```python
from flask import Flask
app = Flask(__name__)

@app.route('/')
def hello_world():
    return 'Hello, World!'

if __name__ == "__main__":
    app.run(debug=True)
```
                  </script>
                </p>
              </section>
              <section>
                <p data-markdown>
                  <script type="text/template">
                    In `index.html`, add in this code for a simple form:
```html
<!DOCTYPE html>
<html>
<head>
    <title>Who are you?</title>
</head>
<body>
    <form action="/welcome">
        <label>What's your name?
            <input type="text" name="person">
        </label>
        <input type="submit">
    </form>
</body>
</html>
```
                  </script>
                </p>
                <aside class="notes">
                  We'll now start adding in some HTML. Create a directory called templates using mkdir templates in the command line, cd templates to enter that directory and create a file called index.html in templates using touch index.html. 
                </aside>
              </section>
              <section>
                <p data-markdown>
                  <script type="text/template">
                    In `server.py`, add `render_template` to import's and, and create a new function called `greeting_generator`.
```python
from flask import Flask, render_template

app = Flask(__name__)

@app.route('/greetings')
def greeting_generator():
    return render_template('index.html')

if __name__ == "__main__":
    app.run(debug=True)
```
                  </script>
                </p>
                <aside class="notes">
                  We have a form that collects a user input (the name) when we click on Submit, but that form doesn't go anywhere yet. However, the URL has changed to: http://localhost:5000/welcome?person=Frances

                   Let's add request to imports, and create another route welcome that greets the person. *Note: It is possible to do this within one function, but for the purpose of this tutorial we will do this separately.
                </aside>
              </section>
              <section>
                <p data-markdown>
                  <script type="text/template">
                    Add `request` to imports, and create another route `welcome` that greets the person.

                    The `server.py` should look like this:
```python
from flask import Flask, render_template, request

app = Flask(__name__)


@app.route('/greetings')
def greeting_generator():
    return render_template("index.html")


@app.route('/welcome')
def greeting():
    user = request.args.get("person")
    return render_template("greeting.html", name=user)


if __name__ == "__main__":
    app.run(debug=True)
```
                  </script>
                </p>
              </section>
              <section>
                <p data-markdown>
                  <script type="text/template">
                    Create another html template called `greetings.html`.
```html
<!DOCTYPE html>
<html>
<head>
    <title>Welcome!</title>
</head>
<body>
    Welcome, {{ name }}.
</body>
</html>
```
                  </script>
                </p>
              </section>
            </section>
            <section id="end">
                <h1>Thank You</h1>
                <h2>Questions?</h2>
                <div class="contactInfo">
                    <p>Frances Liu</p><a href="http://frances-liu.com">frances-liu.com</a>
                    <br><p>Slack: @frances.liu</p>
                    <br>
                    <p>Email: frances.liu@teradata.com</p>
                </div>
            </section>
            <section>
              <h2>Possible topics:</h2>
                <ul>
                  <li>Making a Slackbot with Flask</li>
                  <li>Making a Twilio app with Flask</li>
                  <li>Making a Flask blog</li>
                  <li>Making a Flask API</li>
                  <li>Making a TweeterBot with Flask</li>
                  <li>Django Hello World</li>
                  <li>Django Blog</li>
                  <li>Django vs Flask (side by side)</li>
                  <li>Open to other suggestions</li>
                </ul>
            </section>
        </div>
    </div>
    <script src="lib/js/head.min.js"></script>
    <script src="lib/js/reveal.js"></script>
    <script>
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        rollingLinks: true,
        transition: "convex",
        //- width: "90%",
        //- height: 1.0,
        dependencies: [
            // Cross-browser shim that fully implements classList - https://github.com/eligrey/classList.js/
            {
                src: 'lib/js/classList.js',
                condition: function() {
                    return !document.body.classList;
                }
            },

            // Interpret Markdown in <section> elements
            {
                src: 'plugin/markdown/marked.js',
                condition: function() {
                    return !!document.querySelector('[data-markdown]');
                }
            }, {
                src: 'plugin/markdown/markdown.js',
                condition: function() {
                    return !!document.querySelector('[data-markdown]');
                }
            },

            // Syntax highlight for <code> elements
            {
                src: 'plugin/highlight/highlight.js',
                async: true,
                callback: function() {
                    hljs.initHighlightingOnLoad();
                }
            },

            // Zoom in and out with Alt+click
            {
                src: 'plugin/zoom-js/zoom.js',
                async: true
            },

            // Speaker notes
            {
                src: 'plugin/notes/notes.js',
                async: true
            },

            //- // Remote control your reveal.js presentation using a touch device
            //- { src: 'plugin/remotes/remotes.js', async: true },

            //- // MathJax
            //- { src: 'plugin/math/math.js', async: true }
        ]
    });
    </script>
</body>

</html>
